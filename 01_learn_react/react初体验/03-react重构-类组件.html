<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Hello World</title>
  <script src="../js/react.development.js"></script>
  <script src="../js/react-dom.development.js"></script>
  <!-- Don't use this in production: -->
  <script src="../js/babel.min.js"></script>
</head>

<body>
  <div id="root"></div>
  <script type="text/babel">
    // let message = 'hello world'
    const root = ReactDOM.createRoot(document.getElementById('root'));
    // rootRender()
    // function rootRender () {
    //   root.render(
    //     <div>
    //       <h2>{message}</h2>
    //       <button onClick={changeText}>改变文本</button>
    //     </div>
    //   );
    // }
    class App extends React.Component {
      // 组件数据
      constructor() {
        super()
        this.state = {
          message: 'hello world',
          age: 18,
          name: 'why'
        }
        // 对需要绑定的方法 提前绑定好this
        this.btnClick = this.btnClick.bind(this)
      }
      // 组件方法
      btnClick () {
        console.log(this)
        this.setState({
          message: 'hello react'
        })
      }
      // 渲染
      render () {
        const { message } = this.state
        return (
          <div>
            <h2>{message}</h2>
            <button onClick={this.btnClick}>改变文本</button>
          </div>
        )
        // 可以直接通过bind改变this指向  也可以在constructor 提前绑定
        // <button onClick={this.btnClick.bind(this)}>改变文本</button>
        // 箭头函数直接回传this
        // <button onClick={() => this.btnClick(this)}>改变文本</button>

      }

    }
    root.render(<App message={'message'} />);
    // function changeText () {
    //   if (message === 'hello react') {
    //     message = 'hello world'
    //   } else {
    //     message = 'hello react'
    //   }
    //   rootRender()
    // }
  </script>
</body>

</html>